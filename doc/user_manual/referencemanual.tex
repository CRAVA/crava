
\chapter{CRAVA model file reference manual}\index{reference manual, CRAVA model file elements}
\label{ap:model-file-reference}
\index{CRAVA model file@Crava model file!reference manual for elements}
The numbering shows the command grouping. A command with no subnumbering expects a value to be given, otherwise, it is only a grouping of other commands.

File names are currently given with a path relative to the directory settings in <project-settings>-<io-settings>-<input/output/top-directory>. If these are not given, the path will always be relative to the working directory.

All commands are optional, unless otherwise stated. A necessary command under an optional is only necessary if the optional is given.


\section{\hbracket{actions}\necessary} \newkw{actions}
 \slist
   \item \Description Controls the main purpose of the run.
   \item \Argument
   \item \Default
 \elist

\subsection{\hbracket{mode}}  \newkw{mode}
 \slist
   \item \Description Inversion: Invert seismic input data to elastic parameters and/or facies probabilities. Needs seismic data and volume, all other missing data will be estimated.
Forward: Create seismic response from background model. Not able to estimate anything.
Estimation: Checks input data and performs estimation of lacking information for inversion, but sops before inversion.
   \item \Argument 'inversion', 'forward' or 'estimation'
   \item \Default
 \elist

\subsection{\hbracket{inversion-settings}}  \newkw{inversion-settings}
 \slist
   \item \Description Only valid with the 'inversion' choice above. Controls aspects of the inversion.
   \item \Argument Elements for different inversion settings.
   \item \Default
 \elist

\subsubsection{\hbracket{prediction}}  \newkw{prediction}
 \slist
   \item \Description Controls whether predicted elastic parameters will be generated.
   \item \Argument 'yes' or 'no'.
   \item \Default
 \elist

\subsubsection{\hbracket{simulation}}  \newkw{simulation}
 \slist
   \item \Description Controls aspects of the simulation of elastic parameters.
   \item \Argument
   \item \Default
 \elist



\paragraph{\hbracket{seed}}  \newkw{seed}
 \slist
   \item \Description A number used to initialize the random generator. Running a model file with a given seed will give the same simulation results each time.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{seed-file}}  \newkw{seed-file}
 \slist
   \item \Description Alternative to \kw{seed}. This is an ASCII file containing a number. At the termination of the run, the file will be overwritten with a seed generated by the random generator. Thus, a model file using this will generate different simulation results on sequential runs.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{number-of-simulations}}  \newkw{number-of-simulations}
 \slist
   \item \Description Integer value giving the number of stochastic realizations to generate.
   \item \Argument
   \item \Default
 \elist

\subsubsection{\hbracket{conditioning-to-wells}}  \newkw{conditioning-to-wells}
 \slist
   \item \Description Should the realizations be kriged to well data?
   \item \Argument 'yes' or 'no'
   \item \Default 'yes' if not the \kw{simulation} command is used.
 \elist

\subsubsection{\hbracket{facies-probabilities}}  \newkw{facies-probabilities}
 \slist
   \item \Description Triggers generation of facies probabilities. Absolute: facies probabilities are generated based on inverted parameters including background model. Relative: Background model is not used when facies probabilities are generated.
   \item \Argument 'absolute' or 'relative'
   \item \Default
 \elist


\subsection{\hbracket{estimation-settings}} \newkw{estimation-settings}
 \slist
   \item \Description Only valid with the \kw{mode} 'estimation'. Controls what will be estimated. Note that these commands can only turn off estimations - a parameter that is given will not be estimated even if it says so here.
   \item \Argument Elements for different estimation settings.
   \item \Default
 \elist

\subsubsection{\hbracket{estimate-background}}  \newkw{estimate-background}
 \slist
   \item \Description If no, background will not be estimated unless needed for other simulation.
   \item \Argument 'yes' or 'no'
   \item \Default
 \elist

\subsubsection{\hbracket{estimate-correlations}}  \newkw{estimate-correlations}
 \slist
   \item \Description If no, correlations will not be estimated unless needed for other simulation.
   \item \Argument 'yes' or 'no'
   \item \Default
 \elist

\subsubsection{\hbracket{estimate-wavelet-or-noise}}  \newkw{estimate-wavelet-or-noise}
 \slist
   \item \Description If no, wavelets and/or noise will not be estimated unless needed for other simulation.
   \item \Argument 'yes' or 'no'
   \item \Default
 \elist

 \section{\hbracket{project-settings}\necessary} \newkw{project-settings}
 \slist
   \item \Description Controls inversion volume, output and advanced program settings.
   \item \Argument
   \item \Default
 \elist

\subsection{\hbracket{output-volume}\necessary} \newkw{output-volume}
 \slist
   \item \Description Defines the core inversion volume. All grid output will be given in this volume.
   \item \Argument
   \item \Default
 \elist

\subsubsection{\hbracket{interval-two-surfaces}} \newkw{interval-two-surfaces}
 \slist
   \item \Description This or \kw{interval-one-surface} must be given. One way to give the top and bottom limitations. Must be used if output in depth domain is desired. Alternative is \kw{interval-one-surface}.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{top-surface}\necessary} \newkw{top-surface}
 \slist
   \item \Description File name(s) for top surface file(s).
   \item \Argument
   \item \Default
 \elist

\subparagraph{\hbracket{time-file}\necessary} \newkw{time-file}
 \slist
   \item \Description File name for storm grid file giving top surface in time.
   \item \Argument
   \item \Default
 \elist

\subparagraph{\hbracket{time-value}\necessary} \newkw{time-value}
 \slist
   \item \Description Value giving the top time for the inversion interval.
   \item \Argument
   \item \Default
 \elist

 \subparagraph{\hbracket{depth-file}\necessary} \newkw{depth-file}
 \slist
   \item \Description File name for storm grid file giving top surface in depth.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{base-surface}\necessary} \newkw{base-surface}
 \slist
   \item \Description File name(s) for base surface file(s).
   \item \Argument
   \item \Default
 \elist

\subparagraph{\hbracket{time-file}\necessary} \newkw{time-file}
\slist
   \item \Description This or \kw{time-value} must be given. File name for storm grid file giving base surface in time.
   \item \Argument
   \item \Default
\elist

\subparagraph{\hbracket{time-value}\necessary} \newkw{time-value}
\slist
   \item \Description This or \kw{time-file} must be given. Value giving the base time for the inversion interval.
   \item \Argument
   \item \Default
\elist

\subparagraph{\hbracket{depth-file}\necessary} \newkw{depth-file}
\slist
   \item \Description File name for storm grid file giving base surface in depth.
   \item \Argument
   \item \Default
\elist


\paragraph{\hbracket{number-of-layers}} \newkw{number-of-layers}
 \slist
   \item \Description Integer value giving how many layers to use between top and base surface.
   \item \Argument Integer
   \item \Default
 \elist

\paragraph{\hbracket{direct-file}} \newkw{direct-file}
 \slist
   \item \Description Indicates whether the velocity field is a direct file.
   \item \Argument 'yes' or 'no'
   \item \Default
 \elist

\paragraph{\hbracket{velocity-field}} \newkw{velocity-field}
 \slist
   \item \Description File name for storm grid file. Gives more detailed depth conversion information. Without this, constant velocity per trace is used. If only one depth surface is given, this is used to compute the other. Otherwise, the depth interval will always match both surfaces, but the velocity field is scaled and used for internal depth computations. Can not be used with \kw{velocity-field-from-inversion}.
   \item \Argument 
   \item \Default
 \elist

\paragraph{\hbracket{velocity-field-from-inversion}} \newkw{velocity-field-from-inversion}
 \slist
   \item \Description If given, velocity field from inversion is used for depth conversion. See \kw{velocity-field} for details on how this is done. Can not be used with \kw{velocity-field}.
   \item \Argument 'yes' or 'no'
   \item \Default
 \elist

\subsubsection{\hbracket{interval-one-surface}} \newkw{interval-one-surface}
 \slist
   \item \Description This or \kw{interval-two-surfaces} must be given. Using this command gives parallel top and base of inversion interval.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{reference-surface}} \newkw{reference-surface}
 \slist
   \item \Description File name for storm surface file. The top and base surfaces for the inversion interval will be parallel to this.
   \item \Argument 
   \item \Default
 \elist

\paragraph{\hbracket{shift-to-interval-top}} \newkw{shift-to-interval-top}
 \slist
   \item \Description Value giving the distance from reference surface to top surface. This value is added to the reference surface to create the top surface.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{thickness}}\newkw{thickness}
 \slist
   \item \Description Value giving the thickness of the inversion interval. This value is added to the top surface to create the base surface.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{sample-density}}\newkw{sample-density}
 \slist
   \item \Description Value giving the thickness of a layer in the inversion interval. The thickness should be divisible by this value.
   \item \Argument
   \item \Default
 \elist

\subsubsection{\hbracket{area}}\newkw{area}
 \slist
   \item \Description This command holds the parameters defining the lateral extent of the inversion volume. If this command is not given, the information is taken from the first seismic data file. 
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{reference-point-x}}\newkw{reference-point-x}
 \slist
   \item \Description Value giving the x-coordinate of a corner of the area.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{reference-point-y}}\newkw{reference-point-y}
 \slist
   \item \Description Value giving the y-coordinate of a corner of the area.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{length-x}}\newkw{length-x}
 \slist
   \item \Description Value giving the area length along the rotated x-axis.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{length-y}}\newkw{length-y}
 \slist
   \item \Description Value giving the area length along the rotated y-axis.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{sample-density-x}}\newkw{sample-density-x}
 \slist
   \item \Description Cell size along the rotated x-axis.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{sample-density-y}}\newkw{sample-density-y}
 \slist
   \item \Description Cell size along the rotated y-axis.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{angle}}\newkw{angle}
 \slist
   \item \Description Orientation of the local x-axis.
   \item \Argument
   \item \Default
 \elist

\subsection{\hbracket{io-settings}} \newkw{io-settings}
 \slist
   \item \Description Holds commands that deal with what output to give and where, and where to find input.
   \item \Argument
   \item \Default
 \elist

\subsubsection{\hbracket{top-directory}} \newkw{top-directory}
 \slist
   \item \Description Directory name giving the working directory for the model file. Must end with directory separator.
   \item \Argument
   \item \Default
 \elist

\subsubsection{\hbracket{input-directory}} \newkw{input-directory}
 \slist
   \item \Description Directory name, relative to \kw{top-directory}, for root directory for input files. Must end with directory separator.
   \item \Argument
   \item \Default
 \elist

\subsubsection{\hbracket{output-directory}} \newkw{output-directory}
 \slist
   \item \Description Directory name, relative to \kw{top-directory}, for root directory for output files. Must end with directory separator.
   \item \Argument
   \item \Default
 \elist

\subsubsection{\hbracket{output-types}}\newkw{output-types}
 \slist
   \item \Description All commands directly controlling actual result output are gathered here.
   \item \Argument
   \item \Default
 \elist

\paragraph{\hbracket{grid-output}}\newkw{grid-output}
 \slist
   \item \Description All commands related to output given as grids are gathered here.
   \item \Argument
   \item \Default
 \elist

\subparagraph{\hbracket{domain}}\newkw{domain}
 \slist
   \item \Description Commands controlling which domain output should be in.
   \item \Argument
   \item \Default
 \elist

\subsection{\hbracket{advanced-settings}} \newkw{advanced-settings}
 \slist
   \item \Description A collection of different commands that control advanced aspects of the program control.
   \item \Argument
   \item \Default
 \elist
